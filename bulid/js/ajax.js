function ajax(e){var s=e,t=s.url;if(t){var n=s.type||"get",a=s.data||{},c=!1!==s.async||s.async,o=[];for(var r in a)o.push(r+"="+encodeURIComponent(a[r]));var p=o.join("&"),u=new XMLHttpRequest;switch(u.onreadystatechange=function(){if(4===u.readyState&&200===u.status)try{"function"==typeof s.success&&s.success(JSON.parse(u.responseText))}catch(e){"function"==typeof s.success&&s.success(u.responseText)}},n.toUpperCase()){case"GET":t=s.data?t+"?"+p:t,u.open(n,t,c),u.send();break;case"POST":u.open(n,t,c),u.setRequestHeader("content-type","application/x-www-form-urlencoded"),u.send(p)}}}